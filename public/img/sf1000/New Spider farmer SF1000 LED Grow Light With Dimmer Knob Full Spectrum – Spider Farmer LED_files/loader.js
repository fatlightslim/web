var gfp_aff_toolbar;;window.__goaffpro={"pre_checkout_ref_input_data":{"input_label":"Referred By?","input_placeholder":"Referral Code"},"shop":"spiderfarmer.myshopify.com","cookie_duration":3600,"checkout_page_callback":true,"scripts":[],"show_aff_bar":false,"first_touch_or_last":"last_touch","identifiers":[],"integration":"shopify","force_callback":false,"partner_portal_subdomain":"spiderfarmer.goaffpro.com","remove_tracking_post_order":true,"aff_bar_config":{"copy_btn_text":"Copy Link","copied_btn_text":"Copied","bgColor":"#eee","textColor":"#3c5a99","social_icons":["fb","wa","tw","pt"],"dashboard_text":"Dashboard","fb_color":"#3c5a99","tw_color":"#1da1f2","pt_color":"#bd081c","wa_color":"#4ac959"},"ref_auto_linking":true};function loadScript(url){const script=document.createElement('script')
script.src=url
script.async=false
document.head.appendChild(script)}
if(window.__goaffpro.show_aff_bar){const topbar=document.createElement('div')
topbar.id='__goaffpro_topbar'
document.body.insertBefore(topbar,document.body.firstChild)}
window.__goaffpro.scripts.forEach(function(script){loadScript(script)})
var goaffpro_identifiers=["ref","aff","wpam_id","sub_id","click_id"],source_identifiers=["source","utm_source","sub_id","tx_id","public_id"],gfp_additional=window.__goaffpro&&window.__goaffpro.identifiers,isFirstTouch=window.__goaffpro&&"first_touch"===window.__goaffpro.first_touch_or_last;gfp_additional&&gfp_additional.forEach(function(o){goaffpro_identifiers.push(o)});var gfp_api_server="https://api.goaffpro.com";function getCookie(o){for(var e=o+"=",t=decodeURIComponent(document.cookie).split(";"),i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}function getRefCode(){if(isFirstTouch&&getCookie("ref"))return getCookie("ref");var o=searchInQuery(goaffpro_identifiers,document.location.search);return(o=o||searchInQuery(goaffpro_identifiers,document.location.hash))||(-1<goaffpro_identifiers.indexOf("hash")?document.location.hash&&document.location.hash.substr(1):isFirstTouch?"organic":null)}function getSourceId(){return searchInQuery(source_identifiers,document.location.search)}function searchInQuery(o,e){if(o&&0!==o.length){e=e||document.location.search;if(0<e.length){var e=e.substring(1).split("&").map(function(o){return o.split("=")}),t=o.map(function(o){return o.toLowerCase().trim()}),e=e.find(function(o){return-1<t.indexOf(o[0].toLowerCase())});if(e)return e[1]}}}function getShop(){var e=void 0;return Object.keys(document.scripts).forEach(function(o){o=document.scripts[o];o.src&&o.src.startsWith("https://static.goaffpro.com/reftracker.js")&&(e=o.src.replace("https://static.goaffpro.com/reftracker.js?shop=",""))}),e||window.__goaffpro&&window.__goaffpro.shop||document.location.host}function trackVisit(){var t,o=getCookie("ref"),i=getCookie("discount_code"),e=getCookie("source"),r=getCookie("gfp_v_id");(o||i)&&((t=new XMLHttpRequest).open("POST",gfp_api_server+"/track"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(JSON.stringify({sub_id:e,ref:o,shop:getShop(),location:document.location,navigator:navigator.userAgent,referrer:document.referrer,discount_code:i,visit_id:r})),t.onload=function(){if(420===t.status)deleteCookie("ref"),deleteCookie("discount_code");else if(t.response)try{var o,e=JSON.parse(t.response);e.discount_code&&!i&&(o=new XMLHttpRequest,e.apply_discount_on_myshopify?o.open("GET","https://"+e.website+"/discount/"+encodeURIComponent(e.discount_code)):o.open("GET","/discount/"+encodeURIComponent(e.discount_code)),o.send()),e.visit_id&&setCookie("gfp_v_id",""+e.visit_id)}catch(o){}},t.onend=function(){})}function setCookie(o,e){var t=window.__goaffpro&&-1<window.__goaffpro.cookie_duration?window.__goaffpro.cookie_duration:604800,i=";";t&&(i="; expires="+new Date((new Date).getTime()+1e3*t).toUTCString()+";");var r=location.host,t=r.split(".");1===t.length?document.cookie=o+"="+e+i+"; path=/":(t.shift(),t="."+t.join("."),document.cookie=o+"="+e+i+"path=/; domain="+t,!getCookie(o)!==e&&(t="."+r,document.cookie=o+"="+e+i+"path=/; domain="+t))}function deleteCookie(o){document.cookie=o+"=; path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}function checkoutPageCallback(){if(window.__goaffpro){var o=window.__goaffpro.integration;if("undefined"!=typeof Shopify&&(Shopify.checkout||Shopify.Checkout)&&window.__goaffpro.checkout_page_callback)doCallback(Shopify.checkout.order_id||Shopify.checkout.id,Shopify.checkout);else if(void 0!==window.__big)doCallback(window.__big.order_id,window.__big);else if(void 0!==window.Goaffpro&&window.Goaffpro.data)doCallback(window.Goaffpro.data.order_id,window.Goaffpro.data);else if("bigcommerce"===o){var e=document.body.innerHTML.split(" ").join(""),e=/orderId:'(.*?)'/gm.exec(e);e&&0<e.length&&doCallback(e[1],{})}else if("squarespace"===o){var t=searchInQuery(["oid"]);if(t)return doCallback(t)}else if("webflow"===o){t=searchInQuery(["orderid"]);t&&doCallback(t,{id:t})}else if("woocommerce"===o&&window.order){o=window.order;o&&doCallback(o.id,o)}else if(window.goaffpro_order&&window.goaffpro_order.id)return doCallback(window.goaffpro_order.id)}}function goaffproTrackConversion(o){doCallback("string"==typeof o?void 0:o.id,o)}function doCallback(o,e){var t,i=getCookie("ref"),r=getCookie("discount_code"),n=getCookie("source"),a=getCookie("gfp_v_id");(i||r||window.__goaffpro.force_callback)&&((t=new XMLHttpRequest).open("POST",gfp_api_server+"/order_complete"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(JSON.stringify({sub_id:n,ref:i,shop:getShop(),location:document.location,navigator:navigator.userAgent,referrer:document.referrer,discount_code:r,order_id:o,visit_id:a,data:e})),deleteCookie("gfp_v_id")),window.__goaffpro&&window.__goaffpro.remove_tracking_post_order&&gfp_remove_cookies()}function gfp_remove_cookies(){deleteCookie("ref"),deleteCookie("source"),deleteCookie("discount_code"),deleteCookie("sitestripe"),deleteCookie("gfp_v_id")}var refcode=getRefCode();refcode&&refcode!==getCookie("ref")&&(setCookie("ref",refcode),deleteCookie("gfp_v_id"));var source=getSourceId();function updateSiteLink(){if(!window.__goaffpro||window.__goaffpro.ref_auto_linking){var e=window.__goaffpro&&window.__goaffpro.partner_portal_subdomain;if(e){var t=[];if("querySelectorAll"in document)document.querySelectorAll("a").forEach(function(o){t.push(o)});else for(var o=document.getElementsByTagName("a"),i=0,r=o.length;i<r;i++)t.push(o);t&&0!==t.length&&t.forEach(function(o){o.href&&(-1<o.href.search(e)||o.host!==document.location.host)&&(o.href=function(o,e,t){e=encodeURIComponent(e);var i=document.createElement("a");return e+=t?"="+encodeURIComponent(t):"",i.href=o,i.search.includes("ref=")||(i.search+=(i.search?"&":"")+e),i.href}(o.href,"ref",refcode))})}}}function showSiteStripeToolbar(){var o;gfp_aff_toolbar||!window.__goaffpro.aff_bar_config||(o=searchInQuery(["toolbar"],document.location.search)||getCookie("sitestripe"))&&(gfp_aff_toolbar=window.__goaffpro.aff_bar_config,gfp_aff_toolbar.affiliate_portal_link="https://"+window.__goaffpro.partner_portal_subdomain,gfp_aff_toolbar.ref_code=o,loadScript("https://static.goaffpro.com/sitestripe2.js"),setCookie("sitestripe",o))}function gfpConnectCustomer(){var o,e,t;window&&window.GFPConnect&&window.GFPConnect.customer&&window.__goaffpro.customer_affiliate_connect_auto&&(o=getCookie("ref"),e=getCookie("discount_code"),(o||e)&&((t=new XMLHttpRequest).open("POST",gfp_api_server+"/connect_customer"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.send(JSON.stringify({ref:o,shop:getShop(),discount_code:e,customer:window.GFPConnect.customer}))))}source&&setCookie("source",source),"noref"===refcode&&gfp_remove_cookies(),trackVisit(),checkoutPageCallback(),(refcode=getCookie("ref"))&&"organic"!==refcode&&(updateSiteLink(),setTimeout(function(){updateSiteLink()},1e3)),showSiteStripeToolbar(),gfpConnectCustomer();